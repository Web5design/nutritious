{% load static %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" 
    "http://www.w3.org/TR/html4/strict.dtd">
<html ng-app="myApp">
    <head>
        <title>{% block title %}Tagz{% endblock %}</title>
        <link rel="stylesheet" media="screen"
            href="{% static "lib/bootstrap/css/bootstrap.min.css" %}">
        <link rel="stylesheet" type="text/css" 
            href="{% static "css/style.css" %}" />
        {% block extra_head %}{% endblock %}
    </head>
    <body>
        <div class="container">
          <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
              <ul class="nav">
                <li><a href="/tagz">Home</a></li>
                <li><a href="/tagz/lib">Library</a></li>
                <li><a href="/tagz/tags">Tags</a></li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Tools
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/tagz/tags/import">Import tags</a></li>
                    <!--
                    <li><a href="#import-tags" data-toggle="modal">Import tags</a></li>
                    -->
                    <li><a href="/tagz/tags/export">Export tags</a></li>
                  </ul>
                </li>
                <li class="login-out">
                  {% if user.is_authenticated %}
                  <a href="/tagz/accounts/logout" tooltip="'Logged in as {{ user.username }}'">Logout</a>
                  {% else %}
                    <a href="/tagz/accounts/login">Login</a>
                  {% endif %}
                </li>
              </ul>
              <!-- probably bad to reference this scope; what to do
                   when this is not available? -->
              <form action=
                {% if resource_name %}
                     "/tagz/lib/{{ resource_name }}/{{ sub_ref }}" 
                {% else %}
                     "/tagz/lib"
                {% endif %}
                   method="get" class="navbar-search pull-right">
             <input class="search-query" type="text" name="q" 
                    placeholder="enter a reference or query"/>
              </form>
            </div>
          </div>

          <div class="content">
            {% block main_content %} {% endblock %}
            {% block extra_body %}{% endblock %}
          </div>
        </div>

        <!-- Import Tags Modal -->
        <div id="import-tags" class="modal hide fade">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Import Tags</h3>
          </div>
          <div class="modal-body">
            <p>Select input file: *.tsv</p>
            <div style="position:relative;">
              <a class='btn' href='javascript:;'>
                        Choose File...
                        <input type="file" style='position:absolute;z-index:2;top:0;left:0;filter: alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent;' name="file_source" size="40"  onchange='$("#upload-file-info").html($(this).val());'>
                    </a>
                    &nbsp;
                    <span class='label label-info' id="upload-file-info"></span>
            </div>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn" data-dismiss="modal">Close</a>
            <a href="#" class="btn btn-primary">Save changes</a>
          </div>
        </div>

        <!-- Export Tags Modal -->



    </body>

    <script src="{% static "lib/jquery-1.9.0.min.js" %}"></script>
    <script src="{% static "lib/bootstrap/js/bootstrap.min.js" %}"></script>
    <script src="{% static "lib/angular/angular.js" %}"></script>
    <script src="{% static "js/angular/app.js" %}"></script>
    <script src="{% static "js/angular/services.js" %}"></script>
    <script src="{% static "js/angular/controllers.js" %}"></script>
    <script src="{% static "js/angular/filters.js" %}"></script>
    <script src="{% static "js/angular/directives.js" %}"></script>
</html>

